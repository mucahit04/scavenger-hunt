<div class="location-container">
  <button class="back-btn" (click)="goBack()">‚Üê Back</button>

  <h2>Location {{ locationId }}</h2>

  <!-- Step 1: Code verification -->
  <div *ngIf="!codeVerified">
    <p>Enter the code found at this location:</p>
    <input [(ngModel)]="enteredCode" placeholder="Enter code" />
    <button (click)="verifyCode()">Submit Code</button>
    <p *ngIf="feedback" class="feedback">{{ feedback }}</p>
  </div>

  <!-- Step 2: Content and question after code verification -->
  <div *ngIf="codeVerified">
    <div *ngIf="content.type === 'text'">
      <p>{{ content.content }}</p>
    </div>

    <div *ngIf="content.type === 'video'">
      <video width="100%" controls>
        <source [src]="content.content" type="video/mp4" />
        Your browser does not support the video tag.
      </video>
    </div>

    <div class="question-section">
      <label>{{ content.question }}</label>
      <input [(ngModel)]="userAnswer" placeholder="Your answer" />
      <button (click)="checkAnswer()">Submit Answer</button>
    </div>

    <p class="feedback" [style.color]="isCorrect ? 'green' : 'red'">
      {{ feedback }}
    </p>

    <div *ngIf="isCorrect && hint" class="hint-box">
      <strong>Hint for next location:</strong>
      <p>{{ hint }}</p>
    </div>
  </div>
</div>
